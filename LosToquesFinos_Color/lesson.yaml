- Class: meta
  Course: ConoceR
  Lesson: LosToquesFinos_Color
  Author: David H Duncan
  Type: Standard
  Organization: Universidad Técnica Particular de Loja
  Version: 2.2.21

- Class: text
  Output: "Bienvenidos a la sessión. En esta oportunidad usted explorará las
  opciones con color en el sistema básico de graficar en R. Cuando digo en R, 
  espero que usted esté trabajando en RStudio siempre para este curso."

- Class: text
  Output: "Ya que usted conoce a R, no le va a sorprender que hay muchas maneras
  de trabajar con color, y incluso unos paquetes con paladares alternativos. Nos
  quedamos con los básicos en esta sessión."

- Class: cmd_question
  Output: "R tiene nombrado 657 colores, y se puede llamar a ellos por su nombre,
  o varias codificaciones de color como hexadecimal o RGB valores. Para ver la 
  lista de los colores, teclee colors(). Dese la oportunidad ahora."
  CorrectAnswer: colors()
  AnswerTests: omnitest(correctExpr="colors()")
  Hint: "Tecléelo, esto no le va a dolor"

- Class: figure
  Output: "En la ventanilla de PLOTS hubiera aparecido, o empezado de aparecer,
  una representacíon de los 657 colores ordenados por tonalidad, saturación, y 
  valor."
  Figure: StowersColor.R
  FigureType: new

- Class: text
  Output: "Esta tabla se cita mucho en las fuentes en linea de R. Usted puede
  consultarla, y otras configuraciones útiles, en esa página 
  http://research.stowers-institute.org/efg/R/Color/Chart/index.htm. Si usted
  encuentra un recurso semejante en castellano, ¡compártalo con nosotros por el
  foro!"

- Class: cmd_question
  Output: "Muy bien, ¿pero como le va a ayudar esto? Pues, con el código numérico
  que se ve en la tabla de colores, se puede llamar al nombre del color en su
  gráfica. A mi me llama la atención el color número 642, así vamos a conocerlo.
  Ya hemos visto que el objeto que almacena los colores se llama colors(),
  ¿verdad? Pues a este comando vamos a especificar el número del color que 
  queremos destacar en corchetes cuadrados [], así colors()[642]. Inténtelo."
  CorrectAnswer: colors()[642]
  AnswerTests: omnitest(correctExpr='colors()[642]')
  Hint: "Aunque le parezca un poco torpe, este comando pide el color con índice
  642 de todos los colores."

- Class: cmd_question
  Output: "¿Como se llama ese color entonces? Escriba el nombre en ingles que
  hubiera aparecido en la consola, sin las comillas."
  CorrectAnswer: violetred1
  AnswerTests: omnitest(correctExpr='violetred1')
  Hint: "Teclee el nombre del color no más para avanzar al próximo paso."

- Class: text
  Output: "OK, ahora ustd va a llamar este color para reconstruir la gráfica que vimos
  en el vídeo de las opiniones de la gente de Bogotá sobre sus vidas. Las
  primeras cifras de la gráfica superior fueron 51 % en 2011 quienes creyeron 
  que su nivel de vida ha mejorado en los 5 años anteriores, comparado con 54.2%
  en 2014."

- Class: cmd_question
  Output: "Primero con el color que sale por defecto,
  proporcione usted los siguientes argumentos a la función barplot(). Primero
  tiene que especificar la altura (height) de las barras así height=c(51, 54.2),
  y luego un argumento para los nombres (etiquetas) de las barras, así
  names.arg=c('2011', '2014'). Envuelve los dos argumentos en la función
  barplot(), seperados por una coma, para empezar."
  CorrectAnswer: barplot(height = c(51, 54.2), names.arg = c('2011', '2014'))
  AnswerTests: omnitest(correctExpr="barplot(height = c(51, 54.2), names.arg = c('2011', '2014'))")
  Hint: "Lo que necesitaba era barplot(height = c(51, 54.2), names.arg = c('2011', '2014'))" 

- Class: cmd_question
  Output: "Usted va a añadir ese color 'violetred1' entonces. Como hicieron ellos de la 
  oficina del alcalde de Bogotá, queremos que sobresale 2014, así que dejarémos
  2011 en gris. Recupere el comando anterior y despues de una coma, modifique la
  llamada a barplot() con el siguiente col = c('grey', 'violetred1')"
  CorrectAnswer: barplot(height = c(51, 54.2), names.arg = c('2011', '2014'), col = c('grey', 'violetred1'))
  AnswerTests: omnitest(correctExpr="barplot(height = c(51, 54.2), names.arg = c('2011', '2014'), col = c('grey', 'violetred1'))")
  Hint: "Ya que añadió lo del color, la función debiera haber salido así
  barplot(height = c(51, 54.2), names.arg = c('2011', '2014'), col = c('grey', 'violetred1'))"

- Class: cmd_question
  Output: "En este momento podríamos reproducir el efecto del corte del eje que 
  hicieron ellos de la oficina del alcalde. ¿Se acuerde que tan fuerte parecía 
  la diferencia entre 2011 y 2014 en su gráfica? Se lo hace por introducir otro
  argumento ylim = c(49, 55) - ya que estos fueron los limites de su versión
  de la gráfica, pero también tenemos que ingresar otra argumento xpd=FALSE. 
  Inténtelo usted, recupere el último comando otra vez y añádale los dos
  argumentos mencionados."
  CorrectAnswer: barplot(height = c(51, 54.2), names.arg = c("2011", "2014"), col = c("grey", "violetred1"), ylim = c(49,55), xpd = FALSE)
  AnswerTests: omnitest(correctExpr='EXPR', correctVal=VAL)
  Hint: "Ahora la función es así barplot(height = c(51, 54.2), 
  names.arg = c('2011', '2014'), col = c('grey', 'violetred1'), ylim = c(49,55), xpd = FALSE)"

- Class: cmd_question
  Output: "¡Vaya cambiazo, verdad! Esta versión es más llamativa, pero no es
  una buena practica, así vamos a quitar los últimos dos argumentos con los 
  cual cambiara el eje Y. Lo que si usted debe introducir en el comando son las
  etiquetas para los ejes. En este paso usted debe quitar los argumentos a ylim
  y xpd, y añadir ylab='porcentage de encuestados' y xlab = 'Año de la encuesta'."
  CorrectAnswer: barplot(height = c(51, 54.2), names.arg = c('2011', '2014'), col = c('grey', 'violetred1'), ylab='Porcentage de encuestados', xlab='Año de la encuesta')
  AnswerTests: omnitest(correctExpr='EXPR', correctVal=VAL)
  Hint: "Despues de los cambios de este paso, la función es así
  barplot(height = c(51, 54.2), names.arg = c('2011', '2014'), col = c('grey',
  'violetred1'), ylab='Porcentage de encuestados', xlab='Año de la encuesta')"

- Class: text
  Output: "Bueno, le desvié un poco con esto de la escala del eje Y, regresamos
  al tema de color. A propósito, si a usted le gustaría destacar diferencias
  pequeñas como vemos en este ejemplo, toca seleccionar un gráfico de puntos."

- Class: cmd_question
  Output: "De hecho, hay una manera aún más sencillo para introducir un juego
  limitado de colores dentro de gráficas.  R tiene un paladar de 8 colores que
  se puede llamar por el número. Usted los hubiera visto en el vídeo en la 
  gráfica bien fea mía. Se los puede ver por teclear el siguiente 
  barplot(1:8, col=1:8)."
  CorrectAnswer: barplot(1:8, col=1:8)
  AnswerTests: omnitest(correctExpr='barplot(1:8, col=1:8)')
  Hint: hint

- Class: text
  Output: "Ojo - estos numeros no tienen nada que ver con los
  índices de los colores en la tabla completa de colores que usted vio antes.
  Por ejemplo el índice para blanco en la tabla completa era 1, así que lo llamara
  por col=colors()[1], mientras que 1 en esta serie limitada de colores llama al 
  color negro, y con el sintaxis col=1."

- Class: cmd_question
  Output: "Una aplicación super útil en R es asignar color por una variable de
  agrupación o factor. En el fondo le hemos cargado un conjunto 'detalle' que lleva los
  datos del número promedio de hijos y hijas que tenían las ecuatorianas según
  el censo de 2010.  Confirme que está vigente en la sessión con head(detalle)."
  CorrectAnswer: head(detalle)
  AnswerTests: omnitest(correctExpr='head(detalle)')
  Hint: "Este paso siempre es una buena idea para orientarnos en un objeto de 
  datos. Escriba head(detalle) y presione INTRO."

- Class: cmd_question
  Output: "En este paso usted va a graficar todos los valores en el conjunto,
  pero especificar que el color siga la variable area. Area es la variable que
  cuenta si la encuestada pertencía de una zona urbana o rural.  Así se hace
  with(detalle, plot(hijos, col = area)). Dese la oportunidad."
  CorrectAnswer: with(detalle, plot(hijos, col = area))
  AnswerTests: omnitest(correctExpr='with(detalle, plot(hijos, col = area))')
  Hint: No hay trucos acá, escriba with(detalle, plot(hijos, col = area)) para
  ver los puntos pintados según la variable area.

- Class: text
  Output: "Para entender esta vista de los datos, hay que acordarse que en este
  conjunto tenemos datos promedios por cada provinicia de El Ecuador, y luego 
  desglosados por alfabetización y la zona, rural o urbana."

- Class: cmd_question
  Output: "¿Le parece que añadimos unas anotaciones a esta gráfica? Empezamos
  con unas palabras. Todos las gráficas y por lo tanto lo que podemos añadir 
  como anotaciones necesita información sobre las coordinadas de forma precisa
  o, bajo ciertas condiciones, vaga. Añada las palabras ¿cuál color va con cuál
  nivel de área?.  Este texto va entre comillas con el argumento labels=''. 
  También, usted tiene que especificar un lugar. Digamos que x sea 150, e y 
  sea 4. Ensamblar estos detalles dentro la función text() ahora en el indicador
  de RStudio."
  CorrectAnswer: text(x=150, y=4, labels='¿cuál color va con cuál nivel de área?')
  AnswerTests: omnitest(correctExpr='text(x=150, y=4, labels='¿cuál color va con cuál nivel de área?')', correctVal=VAL)
  Hint: "¿Exijo cada vez más de usted verdad?  Ensámblelo así 
  text(x=150, y=4, labels='¿cuál color va con cuál nivel de área?'), aunque
  el orden dentro de la función no importa."

- Class: text
  Output: "A propósito, algunos de los expertos en visualización opinan
  diferente en la cuestión de cuál color es más fiable cuando le toca añadir
  color para destacar algo. En sus libros Edward Tufte propone rojo, pero ayer
  vi un autor opinando que para pantallas y fuentes del internet, azul suele
  ser la mejor opción.  Yo no tengo opiniones fuertes en este asunto, aunque 
  supongo en mi práctica voy con rojo."

- Class: cmd_question
  Output: "Si usted quisiera añadir una linea para destacar algún umbral en 
  la gràfica, hay varias opciones. Se puede utilizar la función abline() - 
  quiere decir trace una linea entre a y b.  Imagínese que queremos isladar el
  primer tercio (más o menos) del espacio, donde hay las mujeres que no sabían
  leer ni escribir. La función abline() tiene hace más cosas, pero ahora solo
  queremos pedir que nos añade una linea vertical alrededor de donde 75 en el
  eje X. Teclee abline(v=75) entonces, para una linea v para vertical."
  CorrectAnswer: abline(v=75)
  AnswerTests: omnitest(correctExpr='abline(v=75)')
  Hint: "El comando que quiere es abline(v = 75)."

- Class: text
  Output: "Super sencillo verdad? Para lineas horizontales haríamos algo muy
  parecido, aunque con h en lugar de v."
